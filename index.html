<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
  <script src="https://sdk.altvr.com/libs/altspace.js/2.6.0/altspace.min.js"></script>
  <script>
    // n-skeleton-parent only works with root meshes at the moment. Since most model loaders use a root
    // container object, we need to collapse the model so that n-skeleton-parent can access the mesh directly.
    AFRAME.registerComponent('collapse-model', {
        init: function () {
            this.el.addEventListener('model-loaded', function () {
                this.el.object3DMap.mesh.updateMatrixWorld();
                var mesh;
                this.el.object3DMap.mesh.traverse(function (obj) {
                    if (!mesh && obj instanceof THREE.Mesh) {
                        mesh = obj;
                    }
                }.bind(this))
                if (mesh) {
                    this.el.sceneEl.object3D.updateMatrixWorld(true);
                    mesh.scale.copy(mesh.getWorldScale());
                    this.el.setObject3D('mesh', mesh);
                    // setObject3D emits this event in a-frame 0.4.0
                    this.el.emit('object3dset', {
                        type: 'mesh'
                    });
                }
            }.bind(this));
        }
    });
  </script>
  <script>
    altspace.getThreeJSTrackingSkeleton().then(function (skeleton) {
          window.head = skeleton.getJoint('Head');
        });
        AFRAME.registerComponent('altspace-look-at', {
          init: function () {
            if (!window.altspace || !altspace.inClient) { return; }
          },
          tick: function () {
            if (!window.head || !this.el.object3D) { return; }
            this.el.object3D.lookAt(window.head.position); 
          }
        })
  </script>

  <body>
    <a-scene altspace=fullspace:true sync-system="author: bookgirl; app: helloween">

  <a-assets>
        <a-asset-item id="craig" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.Craig.dae"></a-asset-item>
        <a-asset-item id="winrar" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.winrar.dae"></a-asset-item>
        <a-asset-item id="fae" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.fae.dae"></a-asset-item>
        <a-asset-item id="francois" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.FRANCOIS.dae"></a-asset-item>
        <a-asset-item id="guest" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone-guest.dae"></a-asset-item>
        <a-asset-item id="Falkrons" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.Falkrons.dae"></a-asset-item>
        <a-asset-item id="camerabot" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone%20camerabot.dae"></a-asset-item>
        <a-asset-item id="schmitty" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.schmitty.dae"></a-asset-item>
        <a-asset-item id="steven" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.stevem.dae"></a-asset-item>
        <a-asset-item id="brian" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.Brain.dae"></a-asset-item>
        <a-asset-item id="me" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone%20Lia.dae"></a-asset-item>
        <a-asset-item id="arm" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone%20Craig-arm.dae"></a-asset-item>
        <a-asset-item id="pepproni" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone%20pepporoni.dae"></a-asset-item>
        <a-asset-item id="pumkin" src="https://rawgit.com/Lia021/helloween/master/pumkin/pumkin.dae"></a-asset-item>
        <a-asset-item id="candy" src="https://rawgit.com/Lia021/helloween/master/halloween-bowel/halloween-bowel.dae"></a-asset-item>
        <a-asset-item id="kathrine" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.kathrine.dae"></a-asset-item>
        <a-asset-item id="buzzy" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.buzzy.dae"></a-asset-item>
        <a-asset-item id="jason" src="https://rawgit.com/Lia021/helloween/master/Gravestone/Gravestone.jason.dae"></a-asset-item>
        
 
 
 
 
 
 
 
    </a-assets>


 


 <!--gravestone-->
     
 <a-entity position="-3 0 18" scale="4 4 4" rotation="0 90 0" collada-model="#craig"n-mesh-collider="type: environment; convex: false"></a-entity>
 
 <!--gravestone2-->
     
 <a-entity position="-5 0 18" scale="4 4 4" rotation="0 90 0" collada-model="#winrar"n-mesh-collider="type: environment; convex: false"></a-entity>
 
  <!--gravestone3-->
     
  <a-entity position="-7 0 18" scale="4 4 4" rotation="0 90 0" collada-model="#fae"n-mesh-collider="type: environment; convex: false"></a-entity>
 
   <!--gravestone4-->
     
   <a-entity position="-9 0 18" scale="4 4 4" rotation="0 90 0" collada-model="#francois"n-mesh-collider="type: environment; convex: false"></a-entity>
   
   <!--gravestone5-->
     
   <a-entity position="-11 0 18" scale="4 4 4" rotation="0 90 0" collada-model="#guest"n-mesh-collider="type: environment; convex: false"></a-entity>
   
    <!--gravestone6-->
     
    <a-entity position="-3 0 20" scale="4 4 4" rotation="0 90 0" collada-model="#Falkrons"n-mesh-collider="type: environment; convex: false"></a-entity>
    
    <!--gravestone7-->
     
    <a-entity position="-5 0 20" scale="4 4 4" rotation="0 90 0" collada-model="#camerabot"n-mesh-collider="type: environment; convex: false"></a-entity>
  
    <!--gravestone8-->
     
    <a-entity position="-7 0 20" scale="4 4 4" rotation="0 90 0" collada-model="#schmitty"n-mesh-collider="type: environment; convex: false"></a-entity>
      
    <!--gravestone9-->
     
    <a-entity position="-9 0 20" scale="4 4 4" rotation="0 90 0" collada-model="#steven"n-mesh-collider="type: environment; convex: false"></a-entity>
  
    <!--gravestone10-->
     
    <a-entity position="-11 0 20" scale="4 4 4" rotation="0 90 0" collada-model="#brian"n-mesh-collider="type: environment; convex: false"></a-entity>
    
    <!--gravestone11-->
     
    <a-entity position="-3 0 22.50" scale="4 4 4" rotation="0 90 0" collada-model="#me"n-mesh-collider="type: environment; convex: false"></a-entity>
      
    <!--gravestone12-->
     
    <a-entity position="-5 0 22.50" scale="4 4 4" rotation="0 90 0" collada-model="#arm"n-mesh-collider="type: environment; convex: false"></a-entity>
  
    <!--gravestone13-->
     
    <a-entity position="-7 0 22.50" scale="4 4 4" rotation="0 90 0" collada-model="#kathrine"n-mesh-collider="type: environment; convex: false"></a-entity>
    
    <!--gravestone14-->
     
    <a-entity position="-9 0 22.50" scale="4 4 4" rotation="0 90 0" collada-model="#buzzy"n-mesh-collider="type: environment; convex: false"></a-entity>
    
    <!--gravestone15-->
     
    <a-entity position="-11 0 22.50" scale="4 4 4" rotation="0 90 0" collada-model="#jason"n-mesh-collider="type: environment; convex: false"></a-entity>
    
  

    <!--punkin-->
     
    <a-entity position="-6 0.60 -0.50" scale="3 3 3" rotation="0 0 0" collada-model="#pumkin"n-mesh-collider="type: environment; convex: false"></a-entity>
     
    <!--candy-->
     
    <a-entity position="-6 1 -3" scale="2 2 2" rotation="0 90 0" collada-model="#candy"n-mesh-collider="type: environment; convex: false"></a-entity>
      
